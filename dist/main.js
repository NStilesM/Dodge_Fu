!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);var r=document.getElementById("samurai"),i=r.getContext("2d");r.width=1600,r.height=1e3;var o=[],a={x:650,y:720,width:75,height:80,frameX:0,frameY:0,speed:9,health:0,moving:!1,currentAction:null,animationFrames:[],punchOffset:0};function s(e){this.sound=document.createElement("audio"),this.sound.src=e,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound),this.play=function(){this.sound.play()},this.stop=function(){this.sound.pause()}}var h=new Image;h.src="src/images/Samurai.png";var c=new Image;c.src="src/images/trees.png",(new Image).src="src/images/arrow.png";var u=new Image;u.src="src/images/health.png";var d=new Image;d.src="src/images/gameover.png";var l=new s("../src/sound/game.mp3"),f=new s("../src/sound/hit.mp3"),g=new s("../src/sound/miss.mp3"),p=new s("../src/sound/hurt.mp3"),m=new s("../src/sound/lose.mp3"),w=new s("../src/sound/air.mp3");function y(e,t,n,r,o,a,s,h,c){i.drawImage(e,t,n,r,o,a,s,h,c)}var v=[];function x(e){var t=new Image;t.src="right"===e?"src/images/arrow2.png":"src/images/arrow.png";var n={sprite:t,x:0,y:r.height-250,width:286,height:58,speed:10};"left"===e?n.x=0:(n.x=r.width-50,n.speed=-1*n.speed),v.push(n)}var b=0,A={sprite:u,x:r.width/2-50,y:r.height/2+150,width:600,height:110,frameX:0,frameY:0};var I=0,O=0,S=!0,j=!0,k="ongoing";window.addEventListener("keydown",(function(e){o[e.keyCode]=!0,console.log(o)})),window.addEventListener("keyup",(function(e){delete o[e.keyCode]}));var M=[0,1,0],_=[1.15,1,50],E=[2.17,1,50],F=[5,1,0],P=[3.98,1,0],T=[3.05,1,0];document.querySelector("#game").addEventListener("click",(function e(){var t,n;S&&l.play(),o[80]?(l.stop(),S=!1):o[79]&&(S=!0),o[73]&&(j=!1),o[85]&&(j=!0),(I+=1)%500==0&&(t=2e3+Math.floor(500*Math.random()),n=t+2e3,setInterval((function(){x("left")}),t),setInterval((function(){x("right")}),n)),i.clearRect(0,0,r.width,r.height),i.strokeText(b,10,50),i.drawImage(c,0,0,r.width,r.height),i.font="Bold 30px Roboto",i.fillStyle="red",i.textAlign="center",i.fillText("Score;",r.width/2,r.height/2-100),i.fillText(b,r.width/2,r.height/2-50),y(A.sprite,0,110*a.health,A.width,A.height,A.x,A.y,A.height,.05*A.width),y(h,a.width*a.frameX,a.height*a.frameY,a.width,a.height,a.x+a.punchOffset,a.y,3*a.height,2*a.width);for(var s=0;s<v.length;s++){var u=v[s];u.x+=u.speed,y(u.sprite,0,0,u.width,u.height,u.x,u.y,.8*u.height,.1*u.width)}!function(){if(o[39]&&39!=a.currentAction)a.currentAction=39,a.animationFrames=[M,M,M,_,_,_,E,E,E],j&&w.play();else if(o[37]&&37!=a.currentAction)j&&w.play(),a.currentAction=37,a.animationFrames=[F,F,F,P,P,P,T,T,T];else{var e=a.animationFrames.pop(0);e?(a.punchOffset=e[2],a.frameX=e[0],a.frameY=e[1]):(a.frameX=0,a.frameY=0,a.punchOffset=0,a.currentAction=null)}}();for(var X=0;X<v.length;X++)a.x+70===v[X].x||a.x+95+a.width===v[X].x?(v.shift(),a.health+=1,O=0,j&&p.play()):a.x+10===v[X].x||a.x+155+a.width===v[X].x?39!==a.currentAction&&37!==a.currentAction||(v.shift(),j&&f.play(),b+=1,(O+=1)%10==0&&a.heath<5&&(a.health-=1)):j&&g.play();a.health>=5&&(k="done"),"ongoing"===k?requestAnimationFrame(e):(l.stop(),m.play(),i.clearRect(0,0,r.width,r.height),i.fillStyle="black",i.fillRect(0,0,r.width,r.height),i.drawImage(d,0,0,r.width,r.height))}))},function(e,t,n){}]);
//# sourceMappingURL=main.js.map