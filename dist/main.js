!function(e){var t={};function r(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(i,a,function(t){return e[t]}.bind(null,a));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);r(1);var i=document.getElementById("samurai"),a=i.getContext("2d");i.width=1600,i.height=1e3;var n=function(e,t,r,i,a,n){return{width:e,height:t,frameX:r,frameY:i,punchOffset:a,widthOffset:n}},h={default:n(75,80,0,0,0,0),upgrade:n(75,80,.5,.2,20,0),saberRight:[n(75,80,.4,1.5,1,0),n(90,80,.4,2.5,50,15),n(90,80,.4,3.5,50,6)],saberLeft:[n(75,80,.5,6.65,15,0),n(75,80,.3,5.63,40,60),n(75,80,.3,4.62,65,60)],punchRight:[n(75,80,0,1,0,0),n(75,80,1.15,1,50,0),n(75,80,2.17,1,50,0)],punchLeft:[n(75,80,5.03,1,25,-4),n(75,80,4,1.02,0,5),n(75,80,3.04,1,25,0)]},o={x:650,y:640,width:h.default.width,height:h.default.height,frameX:h.default.frameX,frameY:h.default.frameY,speed:9,health:0,moving:!1,currentAction:null,animationFrames:[],punchOffset:h.default.punchOffset,widthOffset:h.default.widthOffset};window.updatesamurai=function(e,t,r,i,a,n){o.width=e,o.height=t,o.frameX=r,o.frameY=i,o.punchOffset=a,o.widthOffset=n};var s=[];function f(e){this.sound=document.createElement("audio"),this.sound.src=e,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound),this.play=function(){this.sound.play()},this.stop=function(){this.sound.pause()}}var d=new Image;d.src="src/images/Samurai_sword.png";var l=new Image;l.src="src/images/Samurai.png";var u=new Image;u.src="src/images/trees.png",(new Image).src="src/images/arrow.png";var c=new Image;c.src="src/images/health.png";var g=new Image;g.src="src/images/gameover.png";var m=new Image;m.src="src/images/muted.png";var p=new Image;p.src="src/images/unmuted.png",(new Image).src="src/images/gold_arrow_right.png",(new Image).src="src/images/gold_arrow_left.png";var w=new f("../src/sound/game.mp3"),y=new f("../src/sound/hit.mp3"),x=new f("../src/sound/miss.mp3"),O=new f("../src/sound/hurt.mp3"),v=new f("../src/sound/lose.mp3"),I=new f("../src/sound/air.mp3"),S=new f("../src/sound/upgrade.mp3"),M=new f("../src/sound/sword_miss.mp3"),b=new f("../src/sound/sword_hit.mp3"),A=new f("../src/sound/unupgrade.mp3");function T(e,t,r,i,n,h,o,s,f){a.drawImage(e,t,r,i,n,h,o,s,f)}var k=[];function _(e){Math.floor(Math.random()*Math.floor(10));var t=new Image;t.src="right"===e?"src/images/arrow2.png":"src/images/arrow.png";var r,a=Math.floor(3*Math.random());0===a?r=275:1===a?r=250:2===a&&(r=300);var n={sprite:t,x:0,y:i.height-r,width:286,height:58,speed:10,status:"regular"};"left"===e?n.x=0:(n.x=i.width-50,n.speed=-1*n.speed),k.push(n),(k[0].x<i.width||k[0].x>0)&&(D=!0)}function X(e){Math.floor(Math.random()*Math.floor(10));var t=new Image;t.src="right"===e?"src/images/gold_arrow_left.png":"src/images/gold_arrow_right.png";var r={sprite:t,x:0,y:i.height-250,width:286,height:58,speed:10,status:"gold"};"left"===e?r.x=0:(r.x=i.width-50,r.speed=-1*r.speed),k.push(r)}var Y=0,P={sprite:c,x:i.width/2-60,y:i.height/2+50,width:600,height:110,frameX:0,frameY:0};function R(){var e=3e3+Math.floor(5e3*Math.random());setInterval((function(){_("right")}),e)}function E(){var e=3e3+Math.floor(5e3*Math.random());setInterval((function(){_("left")}),e)}var F=0,j=0,L="true"==localStorage.getItem("music"),B="true"==localStorage.getItem("soundEffects"),V="ongoing",C=!1,q=500,D=!1;function G(e){o.animationFrames=[];for(var t=0;t<e.length;t++)o.animationFrames.push(e[t]),o.animationFrames.push(e[t]),o.animationFrames.push(e[t])}window.addEventListener("keydown",(function(e){s[e.keyCode]=!0})),window.addEventListener("keyup",(function(e){delete s[e.keyCode]})),document.querySelector("#game").addEventListener("click",(function e(){var t;1==L&&(w.play(),a.drawImage(p,0,0,i.width,i.height)),s[80]?(w.stop(),L=!1,localStorage.setItem("music",L+"")):s[79]&&(L=!0,localStorage.setItem("music",L+"")),s[73]&&(B=!1,localStorage.setItem("soundEffects",B+"")),s[85]&&(B=!0,localStorage.setItem("soundEffects",B+"")),F+=1,!0===C&&0===(q-=1)&&(C=!1,B&&A.play(),q=500),20===F&&(2==Math.floor(Math.random()*Math.floor(2))+1?R():E()),F%500==0&&(2==Math.floor(Math.random()*Math.floor(2))+1?R():E()),1===F&&(t=2e4+Math.floor(5e3*Math.random()),1===Math.floor(1*Math.random())?setInterval((function(){X("left")}),t):setInterval((function(){X("right")}),t)),a.clearRect(0,0,i.width,i.height),a.strokeText(Y,10,50),a.drawImage(u,0,0,i.width,i.height),1==L?(a.font="Bold 30px Verdana",a.fillStyle="white",a.fillText("Music",i.width/8-120,i.height/8-80),a.drawImage(p,0,50,i.width/10,i.height/8)):(a.font="Bold 30px Verdana",a.fillStyle="white",a.fillText("Music",i.width/8-120,i.height/8-80),a.drawImage(m,0,50,i.width/10,i.height/8)),1==B?(a.font="Bold 30px Verdana",a.fillStyle="white",a.fillText("Sound FX",1475,50),a.drawImage(p,1400,50,i.width/10,i.height/8)):(a.font="Bold 30px Verdana",a.fillStyle="white",a.fillText("Sound FX",1475,50),a.drawImage(m,1400,50,i.width/10,i.height/8)),a.font="Bold 50px Verdana",a.strokeStyle="black",a.fillStyle="white",a.textAlign="center",500!=q&&(a.strokeStyle="black",a.fillStyle="orange",a.strokeText("POWER UP",i.width/2,i.height/2),a.fillText("POWER UP",i.width/2,i.height/2),a.strokeText(Math.floor(q/100),i.width/2,i.height/2+50),a.fillText(Math.floor(q/100),i.width/2,i.height/2+50)),a.fillStyle="white",a.strokeText("Score",i.width/2,120),a.fillText("Score",i.width/2,120),a.strokeText(Y,i.width/2,180),a.fillText(Y,i.width/2,180),F<500&&(!0===D?(a.strokeText("GO",i.width/2,i.height/2-100),a.fillText("GO",i.width/2,i.height/2-100),setTimeout((function(){D=-1}),1e3)):!1===D&&(a.strokeText("READY?",i.width/2,i.height/2-100),a.fillText("READY?",i.width/2,i.height/2-100))),T(P.sprite,0,110*o.health,P.width,P.height,P.x,P.y,P.height,.05*P.width),T(!0===C?d:l,o.width*o.frameX,o.height*o.frameY,o.width+o.widthOffset,o.height,o.x+o.punchOffset-o.widthOffset,o.y,3*(o.width+o.widthOffset),3*o.height);for(var r=0;r<k.length;r++){var n=k[r];n.x+=n.speed,T(n.sprite,0,0,n.width,n.height,n.x,n.y,.8*n.height,.1*n.width)}!0===C?function(){if(s[39]&&39!=o.currentAction)o.currentAction=39,G(h.saberRight),B&&M.play();else if(s[37]&&37!=o.currentAction)B&&M.play(),o.currentAction=37,G(h.saberLeft);else{var e=o.animationFrames.pop(0);e?(o.punchOffset=e.punchOffset,o.width=e.width,o.height=e.height,o.frameX=e.frameX,o.frameY=e.frameY,o.punchOffset=e.punchOffset,o.widthOffset=e.widthOffset):(o.punchOffset=h.upgrade.punchOffset,o.width=h.upgrade.width,o.height=h.upgrade.height,o.frameX=h.upgrade.frameX,o.frameY=h.upgrade.frameY,o.punchOffset=h.upgrade.punchOffset,o.widthOffset=h.upgrade.widthOffset,o.currentAction=null)}}():function(){if(s[39]&&39!=o.currentAction)o.currentAction=39,G(h.punchRight),B&&I.play();else if(s[37]&&37!=o.currentAction)B&&I.play(),o.currentAction=37,G(h.punchLeft);else{var e=o.animationFrames.pop(0);e?(o.punchOffset=e.punchOffset,o.width=e.width,o.height=e.height,o.frameX=e.frameX,o.frameY=e.frameY,o.punchOffset=e.punchOffset,o.widthOffset=e.widthOffset):(o.punchOffset=h.default.punchOffset,o.width=h.default.width,o.height=h.default.height,o.frameX=h.default.frameX,o.frameY=h.default.frameY,o.punchOffset=h.default.punchOffset,o.widthOffset=h.default.widthOffset,o.currentAction=null)}}();for(var f=0;f<k.length;f++)if(o.x+70===k[f].x||o.x+95+o.width===k[f].x)k.shift(),o.health+=1,j=0,B&&O.play();else if(!0===C&&o.x-50<=k[f].x&&o.x+255+o.width>=k[f].x){if(39===o.currentAction||37===o.currentAction)"gold"===k.shift().status&&(q+=500,C=!0,B&&S.play()),B&&(!0===C?b.play():y.play()),Y+=1,(j+=1)%5==0&&o.health>0&&(o.health-=1)}else if(o.x+10<=k[f].x&&o.x+155+o.width>=k[f].x){if(39===o.currentAction||37===o.currentAction)"gold"===k.shift().status&&(C=!0,B&&S.play()),B&&(!0===C?b.play():y.play()),Y+=1,(j+=1)%5==0&&o.health>0&&(o.health-=1)}else B&&x.play();o.health>=5&&(V="done"),"ongoing"===V?requestAnimationFrame(e):(w.stop(),B&&v.play(),a.clearRect(0,0,i.width,i.height),a.fillStyle="white",a.fillRect(0,0,i.width,i.height),a.drawImage(g,0,0,i.width,i.height),a.strokeStyle="black",a.fillStyle="black",a.textAlign="center",a.font="Press Start 2P",a.strokeText("Press Reset to Try Again",i.width/2,i.height-50),a.fillText("Press Reset to Try Again",i.width/2,i.height-50))}))},function(e,t,r){}]);
//# sourceMappingURL=main.js.map