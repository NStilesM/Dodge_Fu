!function(t){var e={};function r(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(i,a,function(e){return t[e]}.bind(null,a));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/dist/",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);r(1);var i=document.getElementById("samurai"),a=i.getContext("2d");i.width=1600,i.height=1e3;var n=function(t,e,r,i,a,n){return{width:t,height:e,frameX:r,frameY:i,punchOffset:a,widthOffset:n}},h={default:n(75,80,0,0,0,0),upgrade:n(75,80,.5,.2,20,0),saberRight:[n(75,80,.4,1.5,1,0),n(90,80,.4,2.5,50,15),n(90,80,.4,3.5,50,6)],saberLeft:[n(75,80,.5,6.65,15,0),n(75,80,.3,5.63,40,60),n(75,80,.3,4.62,65,60)],punchRight:[n(75,80,0,1,0,0),n(75,80,1.15,1,50,0),n(75,80,2.17,1,50,0)],punchLeft:[n(75,80,5.03,1,25,-4),n(75,80,4,1.02,0,5),n(75,80,3.04,1,25,0)]},s={x:650,y:640,width:h.default.width,height:h.default.height,frameX:h.default.frameX,frameY:h.default.frameY,speed:9,health:0,moving:!1,currentAction:null,animationFrames:[],punchOffset:h.default.punchOffset,widthOffset:h.default.widthOffset};window.updatesamurai=function(t,e,r,i,a,n){s.width=t,s.height=e,s.frameX=r,s.frameY=i,s.punchOffset=a,s.widthOffset=n};var o=[];function f(t){this.sound=document.createElement("audio"),this.sound.src=t,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound),this.play=function(){this.sound.play()},this.stop=function(){this.sound.pause()}}var l=new Image;l.src="src/images/Samurai_sword.png";var d=new Image;d.src="src/images/Samurai.png";var u=new Image;u.src="src/images/trees.png",(new Image).src="src/images/arrow.png";var c=new Image;c.src="src/images/health.png";var g=new Image;g.src="src/images/gameover.png";var p=new Image;p.src="src/images/muted.png";var m=new Image;m.src="src/images/unmuted.png",(new Image).src="src/images/gold_arrow_right.png",(new Image).src="src/images/gold_arrow_left.png";var w=new f("../src/sound/game.mp3"),x=new f("../src/sound/hit.mp3"),y=new f("../src/sound/miss.mp3"),O=new f("../src/sound/hurt.mp3"),v=new f("../src/sound/lose.mp3"),I=new f("../src/sound/air.mp3"),S=new f("../src/sound/upgrade.mp3"),M=new f("../src/sound/sword_miss.mp3"),A=new f("../src/sound/sword_hit.mp3"),b=new f("../src/sound/unupgrade.mp3");function T(t,e,r,i,n,h,s,o,f){a.drawImage(t,e,r,i,n,h,s,o,f)}var k=[];function _(t){Math.floor(Math.random()*Math.floor(10));var e=new Image;e.src="right"===t?"src/images/arrow2.png":"src/images/arrow.png";var r,a=Math.floor(3*Math.random());0===a?r=275:1===a?r=250:2===a&&(r=300);var n={sprite:e,x:0,y:i.height-r,width:286,height:58,speed:10,status:"regular"};"left"===t?n.x=0:(n.x=i.width-50,n.speed=-1*n.speed),k.push(n),(k[0].x<i.width||k[0].x>0)&&(D=!0)}function X(t){Math.floor(Math.random()*Math.floor(10));var e=new Image;e.src="right"===t?"src/images/gold_arrow_left.png":"src/images/gold_arrow_right.png";var r={sprite:e,x:0,y:i.height-250,width:286,height:58,speed:10,status:"gold"};"left"===t?r.x=0:(r.x=i.width-50,r.speed=-1*r.speed),k.push(r)}var Y=0,P={sprite:c,x:i.width/2-60,y:i.height/2+50,width:600,height:110,frameX:0,frameY:0};function R(){var t=3e3+Math.floor(5e3*Math.random());setInterval((function(){_("right")}),t)}function E(){var t=3e3+Math.floor(5e3*Math.random());setInterval((function(){_("left")}),t)}var F=0,j=0,L="true"==localStorage.getItem("music"),B="true"==localStorage.getItem("soundEffects"),V="ongoing",C=!1,q=500,D=!1;function G(t){s.animationFrames=[];for(var e=0;e<t.length;e++)s.animationFrames.push(t[e]),s.animationFrames.push(t[e]),s.animationFrames.push(t[e])}window.addEventListener("keydown",(function(t){o[t.keyCode]=!0})),window.addEventListener("keyup",(function(t){delete o[t.keyCode]})),document.querySelector("#game").addEventListener("click",(function t(){var e;1==L&&(w.play(),a.drawImage(m,0,0,i.width,i.height)),o[80]?(w.stop(),L=!1,localStorage.setItem("music",L+"")):o[79]&&(L=!0,localStorage.setItem("music",L+"")),o[73]&&(B=!1,localStorage.setItem("soundEffects",B+"")),o[85]&&(B=!0,localStorage.setItem("soundEffects",B+"")),F+=1,!0===C&&0===(q-=1)&&(C=!1,B&&b.play(),q=500),20===F&&(2==Math.floor(Math.random()*Math.floor(2))+1?R():E()),F%500==0&&(2==Math.floor(Math.random()*Math.floor(2))+1?R():E()),1===F&&(e=2e4+Math.floor(5e3*Math.random()),1===Math.floor(1*Math.random())?setInterval((function(){X("left")}),e):setInterval((function(){X("right")}),e)),a.clearRect(0,0,i.width,i.height),a.strokeText(Y,10,50),a.drawImage(u,0,0,i.width,i.height),1==L?(a.font="Bold 30px Verdana",a.fillStyle="white",a.fillText("Music",i.width/8-120,i.height/8-80),a.drawImage(m,0,50,i.width/10,i.height/8)):(a.font="Bold 30px Verdana",a.fillStyle="white",a.fillText("Music",i.width/8-120,i.height/8-80),a.drawImage(p,0,50,i.width/10,i.height/8)),1==B?(a.font="Bold 30px Verdana",a.fillStyle="white",a.fillText("Sound FX",1475,50),a.drawImage(m,1400,50,i.width/10,i.height/8)):(a.font="Bold 30px Verdana",a.fillStyle="white",a.fillText("Sound FX",1475,50),a.drawImage(p,1400,50,i.width/10,i.height/8)),a.font="Bold 50px Verdana",a.strokeStyle="black",a.fillStyle="white",a.textAlign="center",500!=q&&(a.strokeStyle="black",a.fillStyle="orange",a.strokeText("POWER UP",i.width/2,i.height/2),a.fillText("POWER UP",i.width/2,i.height/2),a.strokeText(Math.floor(q/100),i.width/2,i.height/2+50),a.fillText(Math.floor(q/100),i.width/2,i.height/2+50)),a.fillStyle="white",a.strokeText("Score",i.width/2,120),a.fillText("Score",i.width/2,120),a.strokeText(Y,i.width/2,180),a.fillText(Y,i.width/2,180),F<500&&(!0===D?(a.strokeText("GO",i.width/2,i.height/2-100),a.fillText("GO",i.width/2,i.height/2-100),setTimeout((function(){D=-1}),1e3)):!1===D&&(a.strokeText("READY?",i.width/2,i.height/2-100),a.fillText("READY?",i.width/2,i.height/2-100))),T(P.sprite,0,110*s.health,P.width,P.height,P.x,P.y,P.height,.05*P.width),T(!0===C?l:d,s.width*s.frameX,s.height*s.frameY,s.width+s.widthOffset,s.height,s.x+s.punchOffset-s.widthOffset,s.y,3*(s.width+s.widthOffset),3*s.height);for(var r=0;r<k.length;r++){var n=k[r];n.x+=n.speed,T(n.sprite,0,0,n.width,n.height,n.x,n.y,.8*n.height,.1*n.width)}!0===C?function(){if(o[39]&&39!=s.currentAction)s.currentAction=39,G(h.saberRight),B&&M.play();else if(o[37]&&37!=s.currentAction)B&&M.play(),s.currentAction=37,G(h.saberLeft);else{var t=s.animationFrames.pop(0);t?(s.punchOffset=t.punchOffset,s.width=t.width,s.height=t.height,s.frameX=t.frameX,s.frameY=t.frameY,s.punchOffset=t.punchOffset,s.widthOffset=t.widthOffset):(s.punchOffset=h.upgrade.punchOffset,s.width=h.upgrade.width,s.height=h.upgrade.height,s.frameX=h.upgrade.frameX,s.frameY=h.upgrade.frameY,s.punchOffset=h.upgrade.punchOffset,s.widthOffset=h.upgrade.widthOffset,s.currentAction=null)}}():function(){if(o[39]&&39!=s.currentAction)s.currentAction=39,G(h.punchRight),B&&I.play();else if(o[37]&&37!=s.currentAction)B&&I.play(),s.currentAction=37,G(h.punchLeft);else{var t=s.animationFrames.pop(0);t?(s.punchOffset=t.punchOffset,s.width=t.width,s.height=t.height,s.frameX=t.frameX,s.frameY=t.frameY,s.punchOffset=t.punchOffset,s.widthOffset=t.widthOffset):(s.punchOffset=h.default.punchOffset,s.width=h.default.width,s.height=h.default.height,s.frameX=h.default.frameX,s.frameY=h.default.frameY,s.punchOffset=h.default.punchOffset,s.widthOffset=h.default.widthOffset,s.currentAction=null)}}();for(var f=0;f<k.length;f++)if(s.x+70===k[f].x||s.x+95+s.width===k[f].x)k.shift(),s.health+=1,j=0,B&&O.play();else if(!0===C&&s.x-50<=k[f].x&&k[f].x<=s.x){if(39===s.currentAction||37===s.currentAction)"gold"===k.shift().status&&(q+=500,C=!0,B&&S.play()),B&&(!0===C?A.play():x.play()),Y+=1,(j+=1)%5==0&&s.health>0&&(s.health-=1)}else if(!0===C&&s.x+255+s.width>=k[f].x&&k[f].x>=s.x+s.width){if(39===s.currentAction||37===s.currentAction)"gold"===k.shift().status&&(q+=500,C=!0,B&&S.play()),B&&(!0===C?A.play():x.play()),Y+=1,(j+=1)%5==0&&s.health>0&&(s.health-=1)}else if(s.x+10<=k[f].x&&k[f].x<=s.x){if(39===s.currentAction||37===s.currentAction)"gold"===k.shift().status&&(C=!0,B&&S.play()),B&&(!0===C?A.play():x.play()),Y+=1,(j+=1)%5==0&&s.health>0&&(s.health-=1)}else if(s.x+155+s.width>=k[f].x&&k[f].x>=s.x+s.width){if(39===s.currentAction||37===s.currentAction)"gold"===k.shift().status&&(C=!0,B&&S.play()),B&&(!0===C?A.play():x.play()),Y+=1,(j+=1)%5==0&&s.health>0&&(s.health-=1)}else B&&y.play();s.health>=5&&(V="done"),"ongoing"===V?requestAnimationFrame(t):(w.stop(),B&&v.play(),a.clearRect(0,0,i.width,i.height),a.fillStyle="white",a.fillRect(0,0,i.width,i.height),a.drawImage(g,0,0,i.width,i.height),a.strokeStyle="black",a.fillStyle="black",a.textAlign="center",a.font="Press Start 2P",a.strokeText("Press Reset to Try Again",i.width/2,i.height-50),a.fillText("Press Reset to Try Again",i.width/2,i.height-50))}))},function(t,e,r){}]);
//# sourceMappingURL=main.js.map